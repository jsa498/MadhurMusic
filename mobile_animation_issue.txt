Project Overview: Madhur Gurmat Sangeet Vidyala Website (mgsvidyala.ca)
=================================================================

Tech Stack:
- Next.js 14 (React Framework)
- TypeScript
- Tailwind CSS
- Framer Motion (for animations)
- Deployed on Vercel

Deployment Process:
- GitHub repository: https://github.com/jsa498/MadhurMusic
- Automatic deployment through Vercel on push to main branch
- Production URL: https://mgsvidyala.ca

Current Issue: Mobile Animation Glitching
----------------------------------------
Several components across the website are experiencing animation glitches specifically on mobile devices. The glitches occur during the initial appearance/load of certain cards and images.

Affected Components:

1. Home Page:
   - "Our Story" photo card
   - Classes teaser cards
   Location: src/app/page.tsx

2. About Page:
   - "Our Mission" card
   - Mission photo below
   - Core Values cards
   Note: Instructor cards are working smoothly
   Location: src/app/about/page.tsx

3. Classes Page:
   - All class cards (Tanti Saaj, Gurmat Kirtan, Tabla)
   Location: src/app/classes/page.tsx

Complete Code Files:
------------------

1. src/app/page.tsx (Home Page):
```typescript
'use client';

import { motion } from 'framer-motion';
import Image from 'next/image';
import Link from 'next/link';
import { Music, ChevronRight, Award, BookOpen } from 'lucide-react';
import HeroSection from '@/components/ui/hero-section';

export default function Home() {
  return (
    <div className="relative min-h-screen bg-black">
      <HeroSection
        isHomePage
        title="MADHUR GURMAT"
        subtitle="Discover the rich heritage of Indian classical music through expert guidance and traditional teaching methods"
        backgroundImage="/hero-bg.jpg"
        buttonText="Start Your Journey"
        buttonLink="/register"
        priority={true}
      />

      {/* About Preview Section */}
      <section className="relative py-24">
        <div className="container relative mx-auto px-4">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <motion.div
              initial={{ opacity: 0 }}
              whileInView={{ opacity: 1 }}
              viewport={{ once: true, margin: "-25px" }}
              transition={{ duration: 0.7, ease: "easeOut" }}
              className="space-y-8"
            >
              <h2 className="text-5xl font-bold bg-gradient-to-r from-[#DFB87A] to-[#C6A355] bg-clip-text text-transparent">Our Story</h2>
              <p className="text-xl text-gray-300 leading-relaxed">
                With over 20 years of experience, we&apos;ve guided hundreds of students in mastering Indian classical music through authentic teaching methods and dedicated mentorship.
              </p>
              <div className="grid grid-cols-2 gap-6">
                <div className="bg-[#1A1A1A]/80 backdrop-blur-sm rounded-2xl p-8 border border-[#333333] hover:border-[#C6A355]/50 transition-all duration-300 transform hover:scale-105">
                  <div className="text-4xl font-bold text-[#C6A355] mb-3">500+</div>
                  <div className="text-gray-300 text-lg">Students Taught</div>
                </div>
                <div className="bg-[#1A1A1A]/80 backdrop-blur-sm rounded-2xl p-8 border border-[#333333] hover:border-[#C6A355]/50 transition-all duration-300 transform hover:scale-105">
                  <div className="text-4xl font-bold text-[#C6A355] mb-3">20+</div>
                  <div className="text-gray-300 text-lg">Years Experience</div>
                </div>
              </div>
              <Link 
                href="/about" 
                className="inline-flex items-center px-8 py-4 bg-gradient-to-r from-[#DFB87A] to-[#C6A355] hover:from-[#C6A355] hover:to-[#DFB87A] text-black text-lg font-semibold rounded-full transition-all duration-300 hover:shadow-lg hover:shadow-[#C6A355]/20 transform hover:scale-105"
              >
                Discover Our Legacy
                <ChevronRight className="w-5 h-5 ml-2" />
              </Link>
            </motion.div>
            <motion.div
              initial={{ opacity: 0 }}
              whileInView={{ opacity: 1 }}
              viewport={{ once: true, margin: "-25px" }}
              transition={{ duration: 0.7, ease: "easeOut" }}
              className="relative h-[400px] rounded-[2.5rem] overflow-hidden border border-[#333333] hover:border-[#C6A355]/50 transition-all duration-700 group shadow-2xl"
            >
              <Image
                src="/Mgsv photos/mission.jpeg"
                alt="Our Story"
                fill
                className="object-cover transition-transform duration-700 group-hover:scale-[1.03]"
                loading="eager"
                sizes="(max-width: 768px) 100vw, 50vw"
                priority={true}
              />
              <div className="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-700" />
            </motion.div>
          </div>
        </div>
      </section>

      {/* Classes Preview Section */}
      <section className="relative py-20">
        <div className="absolute inset-0 bg-gradient-to-b from-black via-[#1A1A1A]/50 to-black" />
        <div className="container relative mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true, margin: "-100px" }}
            transition={{ duration: 0.3 }}
            className="text-center mb-16"
          >
            <h2 className="text-4xl font-bold bg-gradient-to-r from-[#DFB87A] to-[#C6A355] bg-clip-text text-transparent mb-6">Our Classes</h2>
            <p className="text-xl text-gray-300 max-w-3xl mx-auto">
              Choose from our comprehensive range of classes designed to nurture your musical journey
            </p>
          </motion.div>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
            {[
              {
                title: "Tanti Saaj",
                icon: <Music className="w-8 h-8" />,
                description: "Master the fundamentals of Indian classical string instruments with comprehensive training in ragas, taal, and traditional techniques.",
                image: "/Mgsv photos/IMG_5611.JPG",
                objectPosition: "center 70%"
              },
              {
                title: "Gurmat Kirtan",
                icon: <BookOpen className="w-8 h-8" />,
                description: "Learn the sacred art of Gurmat Kirtan with proper techniques and understanding of ragas, from basic compositions to advanced kirtans.",
                image: "/Mgsv photos/6.jpg",
                objectPosition: "center center"
              },
              {
                title: "Tabla",
                icon: <Award className="w-8 h-8" />,
                description: "Discover the rhythmic world of tabla through systematic training in various taals and traditional compositions.",
                image: "/Mgsv photos/IMG_5002.PNG",
                objectPosition: "center 70%"
              }
            ].map((item, index) => (
              <motion.div
                key={item.title}
                initial={{ opacity: 0 }}
                whileInView={{ opacity: 1 }}
                viewport={{ once: true, margin: "-25px" }}
                transition={{ duration: 0.7, ease: "easeOut", delay: index * 0.1 }}
                className="group bg-[#1A1A1A]/80 backdrop-blur-sm rounded-[2.5rem] overflow-hidden border border-[#333333] hover:border-[#C6A355]/50 transition-all duration-700"
              >
                <div className="relative h-48 overflow-hidden">
                  <Image
                    src={item.image}
                    alt={item.title}
                    fill
                    className="object-cover transition-transform duration-700 group-hover:scale-[1.03]"
                    sizes="(max-width: 768px) 100vw, 33vw"
                    style={{ objectPosition: item.objectPosition }}
                  />
                  <div className="absolute inset-0 bg-gradient-to-t from-[#1A1A1A] via-[#1A1A1A]/60 to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-300" />
                  <div className="absolute bottom-4 left-6 right-6">
                    <div className="inline-flex items-center px-4 py-2 rounded-lg bg-black/50 backdrop-blur-md border border-white/5 shadow-lg">
                      <div className="w-1 h-6 bg-[#C6A355] mr-3"></div>
                      <h3 className="text-xl font-medium tracking-wide text-white/95">{item.title}</h3>
                    </div>
                  </div>
                </div>
                <div className="p-6">
                  <p className="text-gray-300 text-lg mb-6">{item.description}</p>
                  <div className="flex justify-center">
                    <Link
                      href="/classes"
                      className="inline-flex items-center px-6 py-3 bg-gradient-to-r from-[#DFB87A] to-[#C6A355] hover:from-[#C6A355] hover:to-[#DFB87A] text-black text-lg font-semibold rounded-full transition-all duration-300 shadow-lg hover:shadow-[#C6A355]/20"
                    >
                      View All Classes
                      <ChevronRight className="w-5 h-5 ml-2" />
                    </Link>
                  </div>
                </div>
              </motion.div>
            ))}
          </div>
        </div>
      </section>
    </div>
  );
}
```

2. src/app/about/page.tsx (About Page):
```typescript
'use client';

import { motion } from 'framer-motion';
import Image from 'next/image';
import { Music, Award, Users, Clock } from 'lucide-react';
import HeroSection from '@/components/ui/hero-section';
import Link from 'next/link';
import { ChevronRight } from 'lucide-react';

export default function About() {
  return (
    <div className="min-h-screen bg-black">
      <HeroSection
        title="Our Story"
        subtitle="Preserving and teaching the rich heritage of Indian classical music for generations"
        backgroundImage="/hero-bg.jpg"
      />

      {/* Mission Section */}
      <section className="relative py-24">
        <div className="container mx-auto px-4">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <motion.div
              initial={{ opacity: 0 }}
              whileInView={{ opacity: 1 }}
              viewport={{ once: true, margin: "-25px" }}
              transition={{ duration: 0.7, ease: "easeOut" }}
              className="bg-[#1A1A1A]/90 backdrop-blur-xl rounded-[2.5rem] p-12 border border-[#333333] hover:border-[#C6A355]/50 transition-all duration-700 shadow-2xl"
            >
              <h2 className="text-5xl font-bold mb-8 bg-gradient-to-r from-[#DFB87A] to-[#C6A355] bg-clip-text text-transparent">Our Mission</h2>
              <div className="space-y-6">
                <p className="text-xl text-gray-300 leading-relaxed">
                  At Madhur Gurmat Sangeet Vidyala, our mission is to preserve and promote the rich heritage of Indian classical music through authentic teaching methods and dedicated mentorship.
                </p>
                <p className="text-xl text-gray-300 leading-relaxed">
                  We strive to create an environment where students can immerse themselves in the traditional art form while developing their musical abilities under expert guidance.
                </p>
              </div>
            </motion.div>

            <motion.div
              initial={{ opacity: 0 }}
              whileInView={{ opacity: 1 }}
              viewport={{ once: true, margin: "-25px" }}
              transition={{ duration: 0.7, ease: "easeOut" }}
              className="relative h-[400px] rounded-[2.5rem] overflow-hidden border border-[#333333] hover:border-[#C6A355]/50 transition-all duration-700 group shadow-2xl"
            >
              <Image
                src="/Mgsv photos/mission.jpeg"
                alt="Our Mission"
                fill
                className="object-cover transition-transform duration-700 group-hover:scale-[1.03]"
                loading="eager"
                sizes="(max-width: 768px) 100vw, 50vw"
              />
              <div className="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-700" />
            </motion.div>
          </div>
        </div>
      </section>

      {/* Values Section */}
      <section className="py-20">
        <div className="container mx-auto px-4">
          <motion.h2
            initial={{ opacity: 0 }}
            whileInView={{ opacity: 1 }}
            viewport={{ once: true }}
            transition={{ duration: 0.7, ease: "easeOut" }}
            className="text-4xl font-bold text-center mb-16 text-white"
          >
            Our Core Values
          </motion.h2>

          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            {[
              {
                title: "Tradition",
                description: "Upholding the authenticity and purity of classical music traditions passed down through generations."
              },
              {
                title: "Excellence",
                description: "Striving for the highest standards in music education and performance through rigorous training."
              },
              {
                title: "Dedication",
                description: "Fostering a deep commitment to learning and artistic growth in every student we teach."
              }
            ].map((value, index) => (
              <motion.div
                key={value.title}
                initial={{ opacity: 0 }}
                whileInView={{ opacity: 1 }}
                viewport={{ once: true, margin: "-25px" }}
                transition={{ 
                  duration: 0.7,
                  delay: index * 0.1,
                  ease: "easeOut"
                }}
                className="bg-[#1A1A1A] rounded-[2rem] p-8 border border-[#333333] hover:border-[#C6A355]/50 transition-all duration-700"
              >
                <h3 className="text-2xl font-semibold mb-4 text-[#C6A355] text-center">{value.title}</h3>
                <p className="text-gray-400 text-center text-lg">{value.description}</p>
              </motion.div>
            ))}
          </div>
        </div>
      </section>
    </div>
  );
}
```

3. src/app/classes/page.tsx (Classes Page):
```typescript
'use client';

import { motion } from 'framer-motion';
import Image from 'next/image';
import Link from 'next/link';
import { Clock, Users, BookOpen, Star, ChevronRight } from 'lucide-react';
import HeroSection from '@/components/ui/hero-section';

const containerVariants = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: {
      staggerChildren: 0.2,
      delayChildren: 0.1,
      when: "beforeChildren",
      ease: "easeOut"
    }
  }
};

const itemVariants = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: {
      duration: 0.7,
      ease: "easeOut"
    }
  }
};

const classes = [
  {
    title: 'Tanti Saaj',
    description: 'Master the fundamentals of Indian classical string instruments with comprehensive training in ragas, taal, and traditional techniques.',
    image: '/Mgsv photos/IMG_5041.JPG',
    features: [
      'Personalized attention',
      'Traditional techniques',
      'Raga practice',
      'Taal training',
      'Performance opportunities'
    ],
    scheduleOptions: [
      'Flexible Timings',
      'Weekend Classes',
      'Evening Classes'
    ]
  },
  // ... other class items
];

export default function Classes() {
  return (
    <div className="min-h-screen bg-black">
      <HeroSection
        title="Our Classes"
        subtitle="Comprehensive music education programs designed for all skill levels"
        backgroundImage="/hero-bg.jpg"
        buttonText="Register Now"
        buttonLink="/register"
      />

      {/* Classes Section */}
      <motion.section 
        variants={{
          hidden: { opacity: 0 },
          visible: { opacity: 1 }
        }}
        initial="hidden"
        whileInView="visible"
        viewport={{ once: true }}
        transition={{ duration: 0.7, ease: "easeOut" }}
        className="relative py-20"
      >
        <div className="absolute inset-0 bg-gradient-to-b from-black via-[#1A1A1A]/50 to-black" />
        <div className="container relative mx-auto px-4">
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            {classes.map((classItem, index) => (
              <motion.div
                key={classItem.title}
                initial={{ opacity: 0 }}
                whileInView={{ opacity: 1 }}
                viewport={{ once: true, margin: "-25px" }}
                transition={{ 
                  duration: 0.7,
                  delay: index * 0.1,
                  ease: "easeOut"
                }}
                className="bg-[#1A1A1A]/80 backdrop-blur-sm rounded-[2.5rem] overflow-hidden border border-[#333333] hover:border-[#C6A355]/50 transition-all duration-700 group"
              >
                <div className="relative h-56 overflow-hidden">
                  <Image
                    src={classItem.image}
                    alt={classItem.title}
                    fill
                    className="object-cover transition-transform duration-700 group-hover:scale-[1.03]"
                    loading={index === 0 ? "eager" : "lazy"}
                    sizes="(max-width: 768px) 100vw, 33vw"
                  />
                  <div className="absolute inset-0 bg-gradient-to-t from-[#1A1A1A] via-[#1A1A1A]/60 to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-700" />
                  {/* ... rest of card content ... */}
                </div>
              </motion.div>
            ))}
          </div>
        </div>
      </motion.section>
    </div>
  );
}
```

4. src/components/ui/hero-section.tsx (Shared Component):
```typescript
'use client';

import Image from 'next/image';
import { motion } from 'framer-motion';
import Link from 'next/link';

interface HeroProps {
  title: string;
  subtitle: string;
  backgroundImage: string;
  buttonText?: string;
  buttonLink?: string;
  isHomePage?: boolean;
  priority?: boolean;
}

export default function HeroSection({
  title,
  subtitle,
  backgroundImage,
  buttonText,
  buttonLink,
  isHomePage = false,
  priority = false,
}: HeroProps) {
  return (
    <section className={`relative ${isHomePage ? 'h-[70vh] md:h-[85vh]' : 'h-[50vh] md:h-[60vh]'} mt-4 md:mt-12`}>
      <div className="absolute inset-0 mx-4">
        <div className="absolute inset-0 rounded-[3rem] overflow-hidden">
          <Image
            src={backgroundImage}
            alt="Hero Background"
            fill
            className="object-cover scale-100 md:scale-[1.02] object-center md:object-[50%_35%] brightness-75"
            priority={priority}
            sizes="100vw"
          />
          <div className="absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/70" />
        </div>
      </div>
      
      <div className="relative z-10 flex flex-col items-center justify-center h-full text-white px-4">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
          className={`text-center bg-black/10 backdrop-blur-sm rounded-[2rem] p-8 md:p-10 border border-white/10 max-w-[90%] ${isHomePage ? 'md:max-w-2xl' : 'md:max-w-3xl'} mx-auto shadow-2xl`}
        >
          <motion.h1
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.8 }}
            className="text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-4 md:mb-6 drop-shadow-lg"
          >
            {title}
          </motion.h1>

          <motion.p
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.8, delay: 0.2 }}
            className="text-lg md:text-xl text-center mb-8 md:mb-10 max-w-2xl mx-auto drop-shadow-lg text-gray-100"
          >
            {subtitle}
          </motion.p>

          {buttonText && buttonLink && (
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.8, delay: 0.4 }}
            >
              <Link
                href={buttonLink}
                className="inline-block bg-gradient-to-r from-[#DFB87A] to-[#C6A355] hover:from-[#C6A355] hover:to-[#DFB87A] text-black px-8 md:px-10 py-3 md:py-4 rounded-full text-lg md:text-xl font-bold transition-all duration-300 hover:shadow-[0_0_30px_rgba(198,163,85,0.3)] transform hover:scale-105"
              >
                {buttonText}
              </Link>
            </motion.div>
          )}
        </motion.div>
      </div>
    </section>
  );
}
```

Previous Fix Attempts:
--------------------
1. Simplified Animations:
   - Removed complex transforms (y-axis movements)
   - Using only opacity for initial animations
   - Reduced scale amount on hover (from 1.05 to 1.03)

2. Smoother Transitions:
   - Increased duration from 0.5s to 0.7s
   - Changed from "tween" to "easeOut"
   - Unified all transition durations to 700ms

3. Better Viewport Detection:
   - Reduced viewport margin from -50px to -25px
   - Adjusted trigger points for animations

4. Optimized Image Transitions:
   - Smoother scale transitions
   - Longer duration for transitions
   - Reduced scale amount

5. Reduced Animation Complexity:
   - Removed y-axis translations
   - Simplified animation variants
   - More conservative stagger delays

Potential Underlying Issues:
--------------------------
1. Mobile Performance:
   - Heavy DOM operations during animation
   - Multiple simultaneous animations
   - Image loading and transformations

2. Layout Shifts:
   - Images loading after component mount
   - Complex card structures with multiple animated elements

3. Browser Rendering:
   - Mobile browsers handling of CSS transforms
   - Hardware acceleration issues
   - Memory management with multiple animated elements

4. Implementation Structure:
   - Possible race conditions between animations
   - Interaction between Framer Motion and native transitions
   - Viewport calculation timing

Relevant Code Files:
------------------
1. src/app/page.tsx:
   - Home page implementation
   - Our Story section
   - Classes preview cards

2. src/app/about/page.tsx:
   - About page implementation
   - Mission section
   - Core Values section

3. src/app/classes/page.tsx:
   - Classes page implementation
   - Individual class cards
   - Features section

4. src/components/ui/hero-section.tsx:
   - Shared hero component
   - Used across all pages

Note: The instructor cards in the about page are working smoothly, suggesting that the current animation approach can work when implemented correctly. This could provide insights into fixing the other components.

Request for ChatGPT:
------------------
Please analyze the provided information and suggest:
1. Root cause of the glitching
2. Alternative animation approaches
3. Performance optimization strategies
4. Best practices for mobile animations
5. Specific code changes to resolve the issues

The goal is to achieve smooth, glitch-free scroll animations on mobile devices while maintaining the current visual design and user experience. 